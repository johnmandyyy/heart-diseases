{% extends "app/layout-prescription.html" %}

{% block content %}

{% load static %}

<style>
    .custom-cursive {
        font-family: 'Brush Script MT', cursive; /* You can use any cursive font you like */
    }

@media print {
    body {
        visibility: hidden;
    }
    #prescription, #prescription * {
        visibility: visible;
    }

    /* Enable background images */
    body {
        -webkit-print-color-adjust: exact; /* Safari */
        print-color-adjust: exact; /* Chrome, Firefox, Edge */
    }

    /* Ensure images are printed */
    img {
        max-width: 100%;
        visibility: visible;
    }
}


</style>

<!-- Vue.js instance -->
<div id="prescription">

    <!-- Printable Content -->
    <div class="has-text-centered">
        <p
            class="is-size-4 has-text-weight-semibold has-text-grey-dark has-text-weight-light is-family-primary p-0 m-0">
            Template Diagnostic(s) Center
        </p>
        <p
            class="is-size-6 has-text-weight-semibold has-text-grey has-text-weight-light is-family-primary p-0 m-0">
            Address:
        </p>
        <p
            class="is-size-6 has-text-weight-semibold has-text-grey has-text-weight-light is-family-primary p-0 m-0">
            Number:
        </p>
    </div>

    <div class="content">
        <hr class="my-4" style="border: 1px solid black;">
    </div>

    <div class="column mb-0 pb-0">
        <h1 class="is-size-6 has-text-grey-darke pb-2">
            Patient Name: {{ patient_first_name }} {{ patient_middle_name }}
            {{ patient_last_name }}
        </h1>

        <h1 class="is-size-6 has-text-grey-darke pb-2">
            Address:
        </h1>

    </div>

    <div class="column pt-2 mt-2">
        <div class="columns is-mobile">
            <div class="column is-half">
                <h1 class="is-size-6 has-text-grey-darke pb-2">
                    Age: {{ patient_age }}
                </h1>
            </div>
            <div class="column">
                <h1 class="is-size-6 has-text-grey-darke pb-2">
                    Sex: {{ patient_sex }}
                </h1>
            </div>
            <div class="column">
                <h1 class="is-size-6 has-text-grey-darke pb-2">
                    Date: {{ date_recorded }}
                </h1>
            </div>
        </div>
    </div>

    <div class="column">
        <h1 class="title is-size-1">
            <i class="fa-solid fa-prescription"></i>
        </h1>
    </div>

    <div class="column pt-2 mt-2">
        <h1 class="is-size-4 has-text-grey-dark pb-2 custom-cursive">
            {{ physician_description }}
        </h1>

        <h1 class="is-size-6 has-text-grey-dark pb-2">
            Notes: {{ physician_notes }}
        </h1>
    </div>

    <div class="column pt-2 mt-2">
        <div class="is-flex is-flex-direction-column is-align-items-flex-end">
            <!-- Image Section -->
            <div>
                <img class="image is-size-6" src="{{ physician_signature }}"
                    alt="Description of image" style="width: 250px">
            </div>

            <!-- Physician Information Section -->
            <h1 class="is-size-6 has-text-grey-dark mt-0 pt-0 has-text-right">
                Physician Name: {{ phyisician_name }}
            </h1>

            <h1 class="is-size-6 has-text-grey-dark mt-0 pt-0 has-text-right">
                Lic No: {{ physician_license_no }}
            </h1>
        </div>
    </div>

</div>

{% load static %}

<script>
    new Vue({
        delimiters: ['[[', ']]'],
        el: '#prescription',
        data() {
            return {}
        },
        mounted () {
            this.automatePrint()
        },
        methods: {
            automatePrint() {
                setTimeout(function() {
                    window.print();
                }, 1000);   
            }
        },
    });
</script>

{% endblock %}
